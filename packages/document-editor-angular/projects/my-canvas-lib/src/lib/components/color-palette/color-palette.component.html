<div class="menu-container">
  <mat-menu
    #popover="matMenu"
    [overlapTrigger]="false"
    class="color-popover"
    (closed)="close.emit()"
    [xPosition]="'after'"
    [yPosition]="'below'"
  >
    <div class="color-grid">
      <div
        *ngFor="let color of colors"
        class="color-box"
        [style.backgroundColor]="color"
        (click)="handleColor(color)"
      >
        <fa-icon *ngIf="color === definedColor" [icon]="faCheck"></fa-icon>
      </div>
    </div>

    <div class="custom-text">CUSTOM</div>
    <button mat-icon-button class="add-color-btn" (click)="handleClick($event)">
      <fa-icon [icon]="faPalette"></fa-icon>
    </button>
  </mat-menu>
</div>

<app-color-picker
  *ngIf="colorPickerAnchor"
  [colorPickerAnchor]="colorPickerAnchor"
  [color]="definedColor"
  [feature]="feature"
  (close)="colorPickerHandleClose()"
></app-color-picker>
<!-- Manual trigger -->
<button mat-button [matMenuTriggerFor]="popover" #menuTrigger="matMenuTrigger" hidden></button>
